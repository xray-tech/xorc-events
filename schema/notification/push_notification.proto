package notification;

import "notification/apns_headers.proto";
import "notification/apns_result.proto";

message AppleLocalizedAlert
{
  required string title          = 1;
  required string body           = 2;
  optional string title_loc_key  = 3;
  repeated string title_loc_args = 4;
  optional string action_loc_key = 5;
  required string loc_key        = 6;
  repeated string loc_args       = 7;
  optional string launch_image   = 8;
}

message AppleNotification
{
  optional notification.ApnsHeaders apns_headers = 1;
  optional uint32                   badge        = 2;
  optional string                   sound        = 3;
  optional string                   category     = 4;

  oneof type {
    AppleLocalizedAlert localized = 5;
    string              plain     = 6;
    uint32              silent    = 7;
  }
}

message PushNotification
{
  required string                   device_token   = 1;
  required string                   application_id = 2;
  optional string                   correlation_id = 3;
  required AppleNotification        notification   = 4;
  optional notification.ApnsResult  apns_result    = 5;
}
